<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[MAC本地自签名实现https]]></title>
      <url>%2F2017%2F01%2F12%2FMac%E8%87%AA%E7%AD%BE%E5%90%8D%E5%AE%9E%E7%8E%B0%E6%9C%AC%E5%9C%B0HTTPS%2F</url>
      <content type="text"><![CDATA[&#x80CC;&#x666F; &#x82F9;&#x679C;&#x5728;2016&#x5E74;&#x7684;WWDC&#x4E0A;&#x63D0;&#x51FA;&#xFF0C;&#x622A;&#x6B62;&#x5230;2016&#x5E74;&#x5E74;&#x5E95;&#xFF0C;&#x6240;&#x6709;&#x63D0;&#x4EA4;AppStore&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x5FC5;&#x987B;&#x5F3A;&#x5236;&#x652F;&#x6301;HTTPS&#xFF08;&#x540E;&#x6765;&#x5EF6;&#x671F;&#x4E86;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x7814;&#x7A76;&#x4E86;&#x4E0B;MAC&#x672C;&#x5730;&#x81EA;&#x7B7E;&#x540D;&#x5B9E;&#x73B0;HTTPS&#xFF0C;&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6709;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#xFF1A;&#x4E00;&#x3001;&#x5229;&#x7528;keytool&#x5B9E;&#x73B0;&#xFF1B;&#x4E8C;&#x3001;&#x5229;&#x7528;openssl&#x5B9E;&#x73B0;&#xFF1B;&#x4E09;&#x3001;&#x5229;&#x7528;&#x8F6F;&#x4EF6;xca&#x5B9E;&#x73B0; Mac&#x672C;&#x5730;&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x5229;&#x7528;keytool&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPSkeytool&#x4E3A;jdk&#x73AF;&#x5883;&#x4E2D;&#x81EA;&#x5E26;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5728;Mac&#x7EC8;&#x7AEF;&#xFF0C;&#x8F93;&#x5165; 1java -version &#x5373;&#x53EF;&#x67E5;&#x770B;&#x7535;&#x8111;&#x4E0A;&#x7684;jdk&#x7248;&#x672C;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5B89;&#x88C5;jdk&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5230;java&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x5E73;&#x53F0;&#x7684;jdk&#x6587;&#x4EF6;&#xFF0C;&#x672C;&#x4E91;&#x76EE;&#x524D;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x7535;&#x8111;&#x7684;jdk&#x7248;&#x672C;&#x4E3A;jdk_1.8.0_112&#xFF0C;&#x5176;&#x4ED6;&#x7248;&#x672C;&#x7684;jdk&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#x4E0E;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x5927;&#x4F53;&#x76F8;&#x540C;&#xFF0C;keytool&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B; 1&#x3001;&#x5728;Mac&#x7EC8;&#x7AEF;&#xFF0C;cd&#x5230;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x5C06;&#x5B58;&#x50A8;&#x521B;&#x5EFA;&#x7684;&#x8BC1;&#x4E66;&#x76F8;&#x5173;&#x7684;&#x6587;&#x4EF6; 2&#x3001;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801;,&#x751F;&#x6210;keystore&#x6587;&#x4EF6; 1keytool -genkey -alias localhost -keyalg RSA -keysize 2048 -keypass localhost -validity 3650 -keystore localhost.keystore -storepass localhost &#x547D;&#x4EE4; &#x542B;&#x4E49; -genkey &#x5728;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;&#x4E00;&#x4E2A;keystore&#x6587;&#x4EF6; -alias &#x8BE5;keystore&#x6587;&#x4EF6;&#x7684;&#x522B;&#x540D; -keyalg &#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#xFF0C;RSA&#x52A0;&#x5BC6; -keysize &#x79D8;&#x94A5;&#x7684;&#x957F;&#x5EA6; -keypass &#x522B;&#x540D;&#x7684;&#x5BC6;&#x7801; -validity &#x8BC1;&#x4E66;&#x7684;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x8BBE;&#x7F6E;&#x4E3A;10&#x5E74; -keystore &#x6307;&#x5B9A;&#x79D8;&#x94A5;&#x5E93;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x52A0;&#x5BC6;&#x672C;&#x5730;&#x7684;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x5C06;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x90FD;&#x8BBE;&#x7F6E;&#x4E3A;localhost -storepass &#x83B7;&#x53D6;keystore&#x4FE1;&#x606F;&#x6240;&#x9700;&#x8981;&#x7684;&#x5BC6;&#x7801; keytool&#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x8BE6;&#x89C1;&#x5B98;&#x7F51;: keytool&#x547D;&#x4EE4; &#x5728;&#x8F93;&#x5165;&#x4E0A;&#x8FF0;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x754C;&#x9762; &#x60A8;&#x7684;&#x540D;&#x5B57;&#x4E0E;&#x59D3;&#x6C0F;&#x662F;&#x4EC0;&#x4E48;?&#x2014;&#x2014;&#x8981;&#x52A0;&#x5BC6;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x586B;&#x5199;localhost &#x60A8;&#x7684;&#x7EC4;&#x7EC7;&#x5355;&#x4F4D;&#x540D;&#x79F0;&#x662F;&#x4EC0;&#x4E48;?&#x3001;&#x60A8;&#x7684;&#x7EC4;&#x7EC7;&#x540D;&#x79F0;&#x662F;&#x4EC0;&#x4E48;?&#x3001;&#x60A8;&#x6240;&#x5728;&#x7684;&#x57CE;&#x5E02;&#x6216;&#x533A;&#x57DF;&#x540D;&#x79F0;&#x662F;&#x4EC0;&#x4E48;?&#x60A8;&#x6240;&#x5728;&#x7684;&#x7701;/&#x5E02;/&#x81EA;&#x6CBB;&#x533A;&#x540D;&#x79F0;&#x662F;&#x4EC0;&#x4E48;?&#xFF0C;&#x4EE5;&#x4E0A;&#x56DB;&#x4E2A;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x5411;CA&#x7533;&#x8BF7;&#x8BC1;&#x4E66;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x5982;&#x5B9E;&#x586B;&#x5199;&#xFF0C;&#x672C;&#x4E91;&#x5728;&#x6B64;&#x53EA;&#x662F;&#x6D4B;&#x8BD5;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5168;&#x90E8;&#x5199;&#x7684;&#x662F;CN &#x8BE5;&#x5355;&#x4F4D;&#x7684;&#x53CC;&#x5B57;&#x6BCD;&#x56FD;&#x5BB6;/&#x5730;&#x533A;&#x4EE3;&#x7801;&#x662F;&#x4EC0;&#x4E48;?&#x2014;&#x2014;&#x54B1;&#x5728;&#x4E2D;&#x56FD;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x4E2A;&#x53EA;&#x80FD;&#x586B;&#x5199;CN &#x6240;&#x6709;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x586B;&#x5199;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x8F93;&#x5165;Y&#xFF0C;keystore&#x6587;&#x4EF6;&#x5C31;&#x751F;&#x6210;&#x4E86; 3&#x3001;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x751F;&#x6210;csr&#x6587;&#x4EF6; &#x8BE5;&#x751F;&#x6210;&#x7684;csr&#x6587;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x5411;CA&#x673A;&#x6784;&#x63D0;&#x4EA4;&#x8BC1;&#x4E66;&#x7533;&#x8BF7;&#x65F6;&#x7528;&#x7684;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x4EC5;&#x4EC5;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x751F;&#x6210;csr&#x6587;&#x4EF6;&#xFF0C;&#x6B64;csr&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x81EA;&#x7B7E;&#x540D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x65E0;&#x7528; 1keytool -certreq -keyalg RSA -alias localhost -file localhost.csr -keystore localhost.keystore -sigalg SHA256withRSA &#x8F93;&#x5165;&#x5B8C;&#x540E;&#xFF0C;&#x56DE;&#x8F66;&#xFF0C;&#x8F93;&#x5165;keystore&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5373;&#x53EF;&#x751F;&#x6210;csr&#x6587;&#x4EF6; &#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x89C1;&#x4E0A;&#x6587;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x4E0D;&#x591A;&#x63CF;&#x8FF0; 4&#x3001;&#x5982;&#x679C;&#x662F;&#x5411;CA&#x8BF7;&#x6C42;&#x8BC1;&#x4E66;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x76F4;&#x63A5;&#x6309;&#x7167;CA&#x7684;&#x64CD;&#x4F5C;&#x6587;&#x6863;&#x8FDB;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x50CF;&#x672C;&#x4E91;&#x8FD9;&#x6837;&#xFF0C;&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x6253;&#x5F00;tomcate/conf&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;server.xml&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801; &#x5728;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x7528;&#x7684;tomcate&#x662F;tomcate7.0.5&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;tomcate&#xFF0C;&#x8BF7;&#x5230;tomcate&#x5B98;&#x7F51;&#x4E0B;&#x8F7D; 1234&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot; keystoreFile=&quot;&#x3010;&#x4F60;&#x7684;keystore&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x3011;&quot; keystorePass=&quot;&#x3010;&#x4F60;&#x7684;keystore&#x6587;&#x4EF6;&#x7684;&#x5BC6;&#x7801;&#x3011;&quot; maxThreads=&quot;150&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot; scheme=&quot;https&quot; secure=&quot;true&quot; SSLProtocol=&quot;TLSv1+TLSv1.1+TLSv1.2&quot;/&gt; &#x7136;&#x540E;&#xFF0C;cd&#x5230;tomcate/bin&#x4E0B;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165; 1./startup.sh &#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5728;&#x672C;&#x5730;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;https://localhost:8443,&#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5982;&#x56FE; &#x540C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x8BC1;&#x4E66;&#x4FE1;&#x606F; &#x5229;&#x7528;openssl&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPSopenssl&#x4E3A;MAC&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x8DDF;&#x4E0A;&#x8FF0;&#x7528;keytool&#x751F;&#x6210;ssl&#x8BC1;&#x4E66;&#x7C7B;&#x4F3C;&#xFF0C;&#x5176;&#x65B9;&#x6CD5;&#x4E3A;&#xFF1A; 1&#x3001;&#x5728;Mac&#x7EC8;&#x7AEF;&#xFF0C;cd&#x5230;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x5C06;&#x5B58;&#x50A8;&#x521B;&#x5EFA;&#x7684;&#x8BC1;&#x4E66;&#x76F8;&#x5173;&#x7684;&#x6587;&#x4EF6; 2&#x3001;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801;,&#x5229;&#x7528;RSA&#x52A0;&#x5BC6;&#xFF0C;&#x751F;&#x6210;2048&#x5B57;&#x8282;&#x7684;&#x79C1;&#x94A5;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x7406;&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x751F;&#x6210;&#x81EA;&#x7B7E;&#x540D;HTTPS&#x8BC1;&#x4E66;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x90FD;&#x8BBE;&#x7F6E;&#x6210;localhost 1openssl genrsa -out localhost.key 2048 3&#x3001;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x751F;&#x6210;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66; 1openssl req -new -x509 -key localhost.key -out localhost.cer -sha256 -nodes -days 3650 &#x547D;&#x4EE4; &#x542B;&#x4E49; req &#x751F;&#x6210;&#x65B0;&#x7684;&#x8BC1;&#x4E66; -new &#x8868;&#x793A;&#x65B0;&#x8BF7;&#x6C42; -x509 &#x751F;&#x6210;&#x7684;&#x8BC1;&#x4E66;&#x7684;&#x683C;&#x5F0F;&#x662F;x509&#x7684; -key &#x751F;&#x6210;&#x8BC1;&#x4E66;&#x7528;&#x5230;&#x7684;keystore&#x6587;&#x4EF6;&#xFF08;&#x7B2C;&#x4E8C;&#x6B65;&#x751F;&#x6210;&#x7684;&#xFF09; -out &#x751F;&#x6210;&#x7684;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66; -sha256 -nodes &#x8BE5;&#x8BC1;&#x4E66;&#x7528;&#x7684;&#x662F;sha256&#x52A0;&#x5BC6; -days &#x8BC1;&#x4E66;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x672C;&#x4E91;&#x5728;&#x6B64;&#x8BBE;&#x7F6E;&#x7684;&#x662F;10&#x5E74; openssl&#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x8BE6;&#x89C1;&#x5B98;&#x7F51;&#xFF1A;openssl&#x547D;&#x4EE4; &#x5728;&#x8F93;&#x5165;&#x5B8C;&#x4E0A;&#x8FF0;&#x547D;&#x4EE4;&#x540E;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x754C;&#x9762; Country Name&#x2013;&#x8FD9;&#x4E2A;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x5728;&#x4E2D;&#x56FD;&#xFF0C;&#x6240;&#x4EE5;&#x56FA;&#x5B9A;&#x5199;CN&#x3001; State or Province Name&#x3001;Locality Name&#x3001;Organization Name&#x3001;Organizational Unit Name&#xFF0C;&#x8FD9;&#x56DB;&#x4E2A;&#xFF0C;&#x5728;&#x5411;CA&#x7533;&#x8BF7;&#x8BC1;&#x4E66;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x5982;&#x5B9E;&#x586B;&#x5199;&#xFF0C;&#x672C;&#x4E91;&#x5728;&#x6B64;&#x53EA;&#x662F;&#x6D4B;&#x8BD5;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5168;&#x90E8;&#x5199;&#x7684;&#x662F;CN Common Name&#x2014;&#x2014;&#x8981;&#x52A0;&#x5BC6;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x586B;&#x5199;localhost Email Address&#x2014;&#x2014;&#x672C;&#x4E91;&#x5728;&#x8FD9;&#x91CC;&#x968F;&#x4FBF;&#x5199;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x5411;CA&#x7533;&#x8BF7;&#xFF0C;&#x8BF7;&#x5982;&#x5B9E;&#x586B;&#x5199;&#x4FE1;&#x606F; 4&#x3001;&#x5C06;cer&#x8BC1;&#x4E66;&#x8F6C;&#x6362;&#x6210;pfx&#x683C;&#x5F0F;&#x7684;&#x8BC1;&#x4E66;&#xFF0C;&#x4F9B;tomcate&#x4F7F;&#x7528;&#xFF0C;&#x4ECE;tomcate7&#x5F00;&#x59CB;&#xFF0C;tomcate&#x652F;&#x6301;pfx&#x683C;&#x5F0F;&#x8BC1;&#x4E66; 1openssl pkcs12 -export -out localhost.pfx -inkey localhost.key -in localhost.cer &#x56DE;&#x8F66;&#xFF0C;&#x8BBE;&#x7F6E;&#x79D8;&#x94A5;&#x540E;&#xFF0C;&#x5373;&#x751F;&#x6210;&#x4E86;pfx&#x6587;&#x4EF6; &#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x89C1;&#x4E0A;&#x6587;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x4E0D;&#x591A;&#x63CF;&#x8FF0; 5&#x3001;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x751F;&#x6210;csr&#x6587;&#x4EF6; &#x8BE5;&#x751F;&#x6210;&#x7684;csr&#x6587;&#x4EF6;&#x662F;&#x7528;&#x6765;&#x5411;CA&#x673A;&#x6784;&#x63D0;&#x4EA4;&#x8BC1;&#x4E66;&#x7533;&#x8BF7;&#x65F6;&#x7528;&#x7684;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x4EC5;&#x4EC5;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x751F;&#x6210;csr&#x6587;&#x4EF6;&#xFF0C;&#x6B64;csr&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x81EA;&#x7B7E;&#x540D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x65E0;&#x7528; 1openssl req -new -nodes -out localhost.csr &#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x89C1;&#x4E0A;&#x6587;&#xFF0C;&#x5728;&#x6B64;&#xFF0C;&#x4E0D;&#x591A;&#x63CF;&#x8FF0; 6&#x3001;&#x6253;&#x5F00;tomcate/conf&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;server.xml&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801; 123456&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot; keystoreFile=&quot;&#x3010;&#x4F60;&#x7684;pfx&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x3011;&quot; keystorePass=&quot;&#x3010;&#x4F60;&#x7684;pfx&#x4EF6;&#x7684;&#x5BC6;&#x7801;&#x3011;&quot; maxThreads=&quot;150&quot; port=&quot;8443&quot; keystoreType=&quot;PKCS12&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot; scheme=&quot;https&quot; secure=&quot;true&quot; SSLProtocol=&quot;TLSv1+TLSv1.1+TLSv1.2&quot;/&gt; &#x7136;&#x540E;&#xFF0C;cd&#x5230;tomcate/bin&#x4E0B;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165; 1./startup.sh &#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5728;&#x672C;&#x5730;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;https://localhost:8443,&#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5982;&#x56FE; &#x540C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x8BC1;&#x4E66;&#x4FE1;&#x606F; &#x5229;&#x7528;&#x8F6F;&#x4EF6;xca&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPSxca&#x662F;&#x4E00;&#x6B3E;&#x80FD;&#x591F;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5E2E;&#x6211;&#x4EEC;&#x914D;&#x7F6E;ssl&#x8BC1;&#x4E66;&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x5730;&#x6CA1;&#x6709;&#x5B89;&#x88C5;xca&#xFF0C;&#x53EF;&#x4EE5;&#x53BB;&#x5176;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;,&#x5229;&#x7528;xca&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;HTTPS&#x7684;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;: 1&#x3001;&#x6253;&#x5F00;&#x8F6F;&#x4EF6;&#xFF0C;&#x4F9D;&#x6B21;&#x3010;File&#x3011;-&gt;&#x3010;New DataBase&#x3011; &#x8F93;&#x5165;xdb&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3001;&#x9009;&#x62E9;xdb&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84; &#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BC6;&#x7801;&#xFF0C;&#x662F;&#x6211;&#x4EEC;&#x8BA4;&#x4E3A;&#x5730;&#x8BBE;&#x7F6E;&#x7684;&#x6B64;xdb&#x6587;&#x4EF6;&#x7684;&#x5BC6;&#x7801; &#x5207;&#x6362;&#x5230;&#x3010;Certificates&#x3011;&#x9875;&#x9762;,&#x70B9;&#x51FB;&#x3010;New Certificate&#x3011; &#x7531;&#x4E8E;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x521B;&#x5EFA;&#x521B;&#x5EFA;&#x6839;&#x8BC1;&#x4E66;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x672C;&#x4E91;&#x5728;&#x8FD9;&#x8FD9;&#x91CC;&#x9009;&#x62E9;&#x5E8F;&#x53F7;&#x4E3A;1&#x7684;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66;,&#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x9009;&#x62E9;SHA-256,&#x8BC1;&#x4E66;&#x6A21;&#x7248;&#x9009;&#x62E9;&#x9ED8;&#x8BA4;CA,&#x70B9;&#x51FB;&#x3010;Apply all&#x3011;&#xFF0C;&#x5207;&#x6362;&#x5230;&#x3010;Subject&#x3011;&#x9875;&#x9762; &#x7531;&#x4E8E;&#x672C;&#x4E91;&#x5728;&#x6B64;&#x662F;&#x4F7F;&#x7528;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66;&#xFF0C;&#x6D4B;&#x8BD5;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x5199;&#x7684;&#x662F;CN&#xFF0C;&#x5982;&#x679C;&#x8981;&#x5C06;&#x6B64;&#x8BC1;&#x4E66;&#x771F;&#x6B63;&#x7528;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;webService&#xFF0C;&#x8BF7;&#x586B;&#x5199;&#x6B63;&#x786E;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;(&#x57CE;&#x5E02;&#x540D;&#x3001;&#x516C;&#x53F8;&#x540D;&#x7B49;),&#x70B9;&#x51FB;&#x3010;Generate a new key&#x3011;&#x4EA7;&#x751F;&#x79C1;&#x94A5;&#xFF0C;&#x586B;&#x5199;&#x597D;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x5373;&#x53EF;&#x751F;&#x6210;&#x6839;&#x8BC1;&#x4E66; 2&#x3001;&#x9009;&#x62E9;&#x5DF2;&#x7ECF;&#x5236;&#x4F5C;&#x597D;&#x7684;&#x6839;&#x8BC1;&#x4E66;,&#x7136;&#x540E;&#x70B9;&#x51FB;&#x3010;New Certificate&#x3011;&#xFF0C;&#x7B7E;&#x540D;&#x9009;&#x62E9;&#x521A;&#x751F;&#x6210;&#x7684;&#x6839;&#x8BC1;&#x4E66;&#x7B7E;&#x540D;&#xFF0C;&#x8BC1;&#x4E66;&#x7C7B;&#x578B;&#x9009;&#x62E9;&#x670D;&#x52A1;&#x5668;&#x8BC1;&#x4E66; &#x70B9;&#x51FB;&#x3010;Apply all&#x3011;&#xFF0C;&#x5207;&#x6362;&#x5230;&#x3010;Subject&#x3011;&#x9875;&#x9762; &#x540C;&#x7406;&#xFF0C;&#x5728;&#x6D4B;&#x8BD5;&#x9636;&#x6BB5;&#xFF0C;&#x672C;&#x4E91;&#x6240;&#x6709;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x5199;&#x7684;&#x662F;US&#xFF0C;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x5C06;&#x6B64;&#x8BC1;&#x4E66;&#x771F;&#x6B63;&#x7528;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;webService&#xFF0C;&#x8BF7;&#x586B;&#x5199;&#x6B63;&#x786E;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;(&#x57CE;&#x5E02;&#x540D;&#x3001;&#x516C;&#x53F8;&#x540D;&#x7B49;),&#x70B9;&#x51FB;&#x3010;Generate a new key&#x3011;&#x4EA7;&#x751F;&#x79C1;&#x94A5;&#xFF0C;&#x586B;&#x5199;&#x597D;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF0C;&#x5373;&#x53EF;&#x751F;&#x6210;&#x670D;&#x52A1;&#x5668;&#x8BC1;&#x4E66; &#x9009;&#x62E9;&#x521A;&#x751F;&#x6210;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8BC1;&#x4E66; &#x70B9;&#x51FB;&#x3010;Export]&#xFF0C;&#x5C06;&#x8BC1;&#x4E66;&#x5BFC;&#x51FA;&#x4E3A;p12&#x683C;&#x5F0F; &#x8F93;&#x5165;p12&#x6587;&#x4EF6;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x5373;&#x53EF;&#x751F;&#x6210;p12&#x6587;&#x4EF6; 3&#x3001;&#x6253;&#x5F00;tomcate/conf&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;server.xml&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801; 123456&lt;Connector SSLEnabled=&quot;true&quot; clientAuth=&quot;false&quot; keystoreFile=&quot;&#x3010;&#x4F60;&#x7684;pfx&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x3011;&quot; keystorePass=&quot;&#x3010;&#x4F60;&#x7684;pfx&#x4EF6;&#x7684;&#x5BC6;&#x7801;&#x3011;&quot; maxThreads=&quot;150&quot; port=&quot;8443&quot; keystoreType=&quot;PKCS12&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot; scheme=&quot;https&quot; secure=&quot;true&quot; SSLProtocol=&quot;TLSv1+TLSv1.1+TLSv1.2&quot;/&gt; &#x7136;&#x540E;&#xFF0C;cd&#x5230;tomcate/bin&#x4E0B;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165; 1./startup.sh &#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5728;&#x672C;&#x5730;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;https://localhost:8443,&#x5373;&#x53EF;&#x542F;&#x52A8;tomcate&#xFF0C;&#x5982;&#x56FE; &#x540C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5230;&#x8BC1;&#x4E66;&#x4FE1;&#x606F; &#x603B;&#x7ED3;&#x672C;&#x6587;&#x8BB2;&#x8FF0;&#x4E86;&#x5982;&#x4F55;&#x5728;MAC&#x7AEF;&#x5B9E;&#x73B0;&#x81EA;&#x7B7E;&#x540D;&#x672C;&#x5730;HTTPS&#xFF0C;&#x603B;&#x5171;&#x6709;&#x4E0A;&#x8FF0;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x867D;&#x7136;&#x8BF4;&#x672C;&#x4E91;&#x7814;&#x7A76;HTTPS&#x76F8;&#x5173;&#x7684;&#x77E5;&#x8BC6;&#x7684;&#x80CC;&#x666F;&#x662F;&#x82F9;&#x679C;&#x5728;WWDC2016&#x4E0A;&#x5BA3;&#x5E03;&#x7684;&#x5230;2016&#x5E74;&#x5E95;&#xFF0C;&#x6240;&#x6709;&#x63D0;&#x4EA4;AppStore&#x5BA1;&#x6838;&#x7684;&#x5E94;&#x7528;&#x5FC5;&#x987B;&#x5F3A;&#x5236;&#x652F;&#x6301;ATS(App Transport Security)&#xFF08;&#x5DF2;&#x5EF6;&#x671F;&#xFF09;&#xFF0C;&#x4F46;&#x672C;&#x6587;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x63D0;&#x53CA;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x672C;&#x5730;&#x81EA;&#x7B7E;&#x540D;HTTPS&#xFF0C;&#x5173;&#x4E8E;&#x5411;CA&#x7533;&#x8BF7;&#x8BC1;&#x4E66;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x4E5F;&#x53EA;&#x662F;&#x4E00;&#x7B14;&#x5E26;&#x8FC7;&#x3002;&#x5173;&#x4E8E;ATS&#x7684;&#x5177;&#x4F53;&#x8981;&#x6C42;&#xFF0C;&#x8BE6;&#x89C1;&#x82F9;&#x679C;&#x5B98;&#x65B9;&#x5173;&#x4E8E;ATS&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x8D2D;&#x4E70;CA&#x7684;&#x8BC1;&#x4E66;&#xFF0C;&#x8BE5;&#x8BC1;&#x4E66;&#x5FC5;&#x987B;&#x7B26;&#x5408;ATS&#x8981;&#x6C42;&#xFF0C;&#x4E14;&#x8BE5;&#x8BC1;&#x4E66;&#x5185;&#x7F6E;&#x4E8E;&#x82F9;&#x679C;iOS&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x8BE6;&#x60C5;&#x8BF7;&#x89C1;iOS&#x53EF;&#x4FE1;&#x4EFB;&#x8BC1;&#x4E66;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x81EA;&#x7B7E;&#x540D;&#x8BC1;&#x4E66;&#xFF0C;&#x9664;&#x4E86;&#x6309;&#x7167;&#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8BC1;&#x4E66;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x7BA1;&#x7528;&#x54EA;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x90FD;&#x5FC5;&#x987B;&#x7B26;&#x5408;ATS&#x8981;&#x6C42;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x82F9;&#x679C;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x68C0;&#x6D4B;&#x63A5;&#x53E3;&#x662F;&#x5426;&#x7B26;&#x5408;ATS&#x8981;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#xFF0C;&#x5728;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; 1nscurl --ats-diagnostics &#x2013;verbose &#x3010;www.example.com&#x3011; &#x5982;&#x679C;&#x6240;&#x6709;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x662F;pass&#xFF0C;&#x5219;&#x8BE5;&#x63A5;&#x53E3;&#x901A;&#x8FC7;ATS&#x9A8C;&#x8BC1; &#x53E6;&#x5916;&#xFF0C;&#x95FB;&#x9053;&#x6709;&#x5148;&#x540E;&#xFF0C;&#x672F;&#x4E1A;&#x6709;&#x4E13;&#x653B;&#xFF0C;&#x4F5C;&#x4E3A;&#x975E;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#xFF0C;&#x5173;&#x4E8E;HTTPS&#xFF0C;&#x672C;&#x4E91;&#x5E76;&#x672A;&#x6DF1;&#x5165;&#x7814;&#x7A76;&#xFF0C;&#x4E0A;&#x8FF0;&#x6587;&#x7AE0;&#xFF0C;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x672C;&#x4E91;&#x7814;&#x7A76;HTTPS&#x7684;&#x4E00;&#x70B9;&#x8BB0;&#x5F55;&#xFF0C;&#x5982;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x6B22;&#x8FCE;&#x6307;&#x6B63;&#xFF0C;&#x4E0D;&#x80DC;&#x611F;&#x6FC0;]]></content>
    </entry>

    
  
  
</search>
